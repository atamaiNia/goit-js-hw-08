{"mappings":"IA0BAA,EAAe,C,KA1BF,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,W,KAIhCT,IACX,IACE,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,GACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,W,OAI9BT,IACb,IACEK,aAAaQ,WAAWb,GACxB,MAAOO,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,YCC7C,MAEMK,EAAUC,SAASC,cAAc,mBAavC,WACE,MAAMC,EAAYlB,EAAQmB,KAhBR,uBAkBdD,GACFE,OAAOC,QAAQH,GAAWI,SAAQ,EAAEC,EAAMrB,MACxCa,EAAQS,SAASD,GAAMrB,MAAQA,KAjBrCuB,GAEAV,EAAQW,iBAAiB,QAASC,UAElC,SAAwBC,GACtB,MAAML,KAAEA,EAAIrB,MAAEA,GAAU0B,EAAEC,OAC1B,IAAIX,EAAYlB,EAAQmB,KATN,uBAUlBD,EAAYA,GAAwB,GACpCA,EAAUK,GAAQrB,EAClBF,EAAQ8B,KAZU,sBAYQZ,KAP+B,MAoB3DH,EAAQW,iBAAiB,UAEzB,SAAsBE,GACpBA,EAAEG,iBACFtB,QAAQuB,IAAIJ,EAAEK,eACd,MACET,UAAUU,MAAEA,EAAKxB,QAAEA,IACjBkB,EAAEK,cAEN,GAAoB,KAAhBC,EAAMhC,OAAkC,KAAlBQ,EAAQR,MAChC,OAAOO,QAAQuB,IAAI,kCAErB,MAAMG,EAAW,CACfD,MAAOA,EAAMhC,MACbQ,QAASA,EAAQR,OAGnBO,QAAQuB,IAAIG,GACZnC,EAAQoC,OA3CU,uBA4ClBR,EAAEK,cAAcI","sources":["src/js/storage.js","src/js/03-feedback.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","// import throttle from 'lodash.throttle';\n// HTML містить розмітку форми. Напиши скрипт, який буде зберігати значення полів у локальне сховище, коли користувач щось друкує.\n\n// <form class=\"feedback-form\" autocomplete=\"off\">\n//   <label>\n//     Email\n//     <input type=\"email\" name=\"email\" autofocus />\n//   </label>\n//   <label>\n//     Message\n//     <textarea name=\"message\" rows=\"8\"></textarea>\n//   </label>\n//   <button type=\"submit\">Submit</button>\n// </form>\n// Виконуй це завдання у файлах 03-feedback.html і 03-feedback.js. Розбий його на декілька підзавдань:\n\n// Відстежуй на формі подію input, і щоразу записуй у локальне сховище об'єкт з полями email і message, у яких зберігай поточні значення полів форми. Нехай ключем для сховища буде рядок \"feedback-form-state\".\n// Під час завантаження сторінки перевіряй стан сховища, і якщо там є збережені дані, заповнюй ними поля форми. В іншому випадку поля повинні бути порожніми.\n// Під час сабміту форми очищуй сховище і поля форми, а також виводь у консоль об'єкт з полями email, message та їхніми поточними значеннями.\n// Зроби так, щоб сховище оновлювалось не частіше, ніж раз на 500 мілісекунд. Для цього додай до проекту і використовуй бібліотеку lodash.throttle.\n\nimport storage from './storage';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst formRef = document.querySelector('.feedback-form');\nloadPage();\n\nformRef.addEventListener('input', throttle(onAddDataInput, 500));\n\nfunction onAddDataInput(e) {\n  const { name, value } = e.target;\n  let savedData = storage.load(STORAGE_KEY);\n  savedData = savedData ? savedData : {};\n  savedData[name] = value;\n  storage.save(STORAGE_KEY, savedData);\n}\n\nfunction loadPage() {\n  const savedData = storage.load(STORAGE_KEY);\n\n  if (savedData) {\n    Object.entries(savedData).forEach(([name, value]) => {\n      formRef.elements[name].value = value;\n    });\n  }\n}\n\nformRef.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  console.log(e.currentTarget);\n  const {\n    elements: { email, message },\n  } = e.currentTarget;\n\n  if (email.value === '' || message.value === '') {\n    return console.log('Please fill in all the fields!');\n  }\n  const formData = {\n    email: email.value,\n    message: message.value,\n  };\n\n  console.log(formData);\n  storage.remove(STORAGE_KEY);\n  e.currentTarget.reset();\n}\n"],"names":["$3fff5e8daf4b13a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","$945622fd0f572e60$var$formRef","document","querySelector","savedData","load","Object","entries","forEach","name","elements","$945622fd0f572e60$var$loadPage","addEventListener","throttle","e","target","save","preventDefault","log","currentTarget","email","formData","remove","reset"],"version":3,"file":"03-feedback.c3c59eec.js.map"}